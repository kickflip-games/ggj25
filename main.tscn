[gd_scene load_steps=10 format=3 uid="uid://cwppfyu0kwj2h"]

[ext_resource type="Script" path="res://main.gd" id="1_lsa5w"]
[ext_resource type="PackedScene" uid="uid://brqlxi1h6j658" path="res://Entities/Player/player.tscn" id="1_uhqqe"]
[ext_resource type="PackedScene" uid="uid://str7kpnq2oov" path="res://Background/Background.tscn" id="2_4d8gk"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="3_6j1i7"]
[ext_resource type="PackedScene" uid="uid://cc81r7ciyn7gv" path="res://Spawner/spawner.tscn" id="3_a5gx5"]
[ext_resource type="PackedScene" uid="uid://7joo32ifr0u8" path="res://HUD/HUD.tscn" id="4_4td82"]
[ext_resource type="PhysicsMaterial" uid="uid://dtmwo31sg5cv6" path="res://Entities/Enemy/bouncy.tres" id="4_ihst0"]
[ext_resource type="PackedScene" uid="uid://c5t8b11rju3" path="res://Shockwave/shockwave.tscn" id="7_60swm"]

[sub_resource type="ViewportTexture" id="ViewportTexture_seagh"]

[node name="Main" type="Node2D"]
script = ExtResource("1_lsa5w")

[node name="Background" parent="." instance=ExtResource("2_4d8gk")]
visible = false
position = Vector2(-419, -291)
scale = Vector2(0.74, 0.5)

[node name="Camera2D" type="Camera2D" parent="."]
physics_interpolation_mode = 1
position = Vector2(143, 356)
zoom = Vector2(0.9, 0.9)

[node name="PhantomCameraHost" type="Node" parent="Camera2D"]
process_priority = 300
process_physics_priority = 300
script = ExtResource("3_6j1i7")

[node name="StartPositionMarker" type="Node2D" parent="."]
position = Vector2(571, 321)

[node name="Player" parent="." instance=ExtResource("1_uhqqe")]
position = Vector2(143, 356)

[node name="PlayerPhantomCamera2D" parent="Player" index="8"]
position = Vector2(143, 356)
follow_offset = Vector2(0, 0)

[node name="GameBounds2" type="StaticBody2D" parent="." groups=["WALLS"]]
position = Vector2(-1, 2)
collision_layer = 4
collision_mask = 3
physics_material_override = ExtResource("4_ihst0")

[node name="Polygon2D" type="Polygon2D" parent="GameBounds2"]
color = Color(0, 0, 0, 1)
texture = SubResource("ViewportTexture_seagh")
invert_enabled = true
invert_border = 236.0
polygon = PackedVector2Array(1, 198, 1, 798, 201, 998, 801, 998, 1001, 798, 1001, 198, 801, -2, 201, -2)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="GameBounds2"]
position = Vector2(120, 40)
build_mode = 1
polygon = PackedVector2Array(81, -42, 681, -42, 881, 158, 881, 758, 681, 958, 81, 958, -119, 758, -119, 158)
one_way_collision_margin = 3.0

[node name="Spawner" parent="." instance=ExtResource("3_a5gx5")]
show_behind_parent = true
top_level = true

[node name="CollisionShape2D" parent="Spawner" index="0"]
position = Vector2(500, 500)
debug_color = Color(0.439216, 0.572549, 0.494118, 0.215686)

[node name="Shockwave" parent="." instance=ExtResource("7_60swm")]
layer = 0
visible = false

[node name="ColorRect" parent="Shockwave" index="0"]
offset_right = 1145.0
offset_bottom = 651.0

[node name="CanvasLayer" type="CanvasLayer" parent="."]
follow_viewport_enabled = true

[node name="Hud" parent="CanvasLayer" instance=ExtResource("4_4td82")]

[connection signal="player_died" from="Player" to="." method="_on_player_player_died"]
[connection signal="start_game" from="CanvasLayer/Hud" to="." method="_on_hud_start_game"]

[editable path="Player"]
[editable path="Spawner"]
[editable path="Shockwave"]
